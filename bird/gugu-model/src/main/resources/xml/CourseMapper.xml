<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 指定工作空间，要与接口名相同，源代码没有去看，猜测应该是通过"这里的namespace.下边方法的id"来定位方法的 -->
<mapper namespace="com.gugu.gugumodel.mapper.CourseMapper">
    <select id="findSimpleCourseEntityByStudenId" parameterType="java.lang.Long" resultType="com.gugu.gugumodel.pojo.entity.SimpleCourseEntity">
        select course.id,course.teacher_id,course.course_name,
               course.introduction from course,klass_student_table
        where klass_student_table.student_id=#{arg0} and klass_student_table.course_id=course.id
    </select>

    <insert id="newCourse" useGeneratedKeys="true" keyProperty="id" parameterType="com.gugu.gugumodel.pojo.entity.CourseEntity">
        insert course(id,teacher_id,course_name,introduction,presentation_percentage,
        question_percentage,report_percentage,team_start_time,team_end_time)
        values (#{id},#{teacher_id},#{course_name},#{introduction},#{presentation_percentage},
        #{question_percentage},#{report_percentage},#{team_start_time},#{team_end_time})
        <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Long">
            select  last_insert_id()
        </selectKey>
    </insert>
</mapper>